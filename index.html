<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ржорж╛ржзржмржо ржкржЮрзНржЬрж┐ржХрж╛ v5.5 тАФ Full Live</title>
<style>
:root{
 --pink:#E84EB4;--red:#B71C1C;--gold:#FBC02D;--sky:#29B6F6;
 --header:#FFE082;--label:#FF6F00;--value:#000;
}
body{margin:0;background:#FFF8E1;font-family:'Noto Sans Bengali','Noto Serif Bengali',sans-serif;
 display:flex;justify-content:center}
.wrap{width:100%;max-width:420px;margin:10px auto;padding:6px;box-sizing:border-box}
.card{border-radius:14px;margin:3px 0;padding:10px;border:1px solid rgba(255,255,255,.7);
 box-shadow:0 2px 8px rgba(0,0,0,.2)}
.title{text-align:center;font-weight:800;font-size:18px;color:var(--header);margin:0 0 8px}
.subgrid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.subcard{background:rgba(255,255,255,.15);border:1px solid rgba(255,255,255,.4);
 border-radius:8px;padding:6px 8px}
.label{font-size:13px;font-weight:700;color:var(--label)}
.value{font-size:15px;font-weight:800;color:var(--value);margin-top:2px}
.status{font-size:11px;color:#fff;margin-top:8px;text-align:center;opacity:.95}
.btn{display:block;width:100%;text-align:center;border-radius:10px;padding:10px 12px;
 border:1px solid rgba(255,255,255,.7);background:rgba(255,255,255,.12);
 font-weight:700;color:#000;cursor:pointer;transition:filter .15s ease}
.hover-light:hover{filter:brightness(1.1)}
.eka-name{font-size:30px;line-height:1.1;font-weight:800;color:#fff}
.eka-sub{font-size:14px;color:#FFEB3B;margin-top:4px}
.slider{overflow:hidden;position:relative;height:80px}
.slide{position:absolute;top:0;left:0;width:100%;opacity:0;transition:opacity 1s}
.slide.active{opacity:1}
.loc-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.loc-label{font-weight:700;color:#fff}
.loc-val{font-weight:700}
</style>
</head>
<body>
<div class="wrap">

<!-- 1я╕ПтГг PANCHIKA -->
<section class="card" style="background:var(--pink)">
 <h3 class="title">ЁЯкФ ржкржЮрзНржЬрж┐ржХрж╛</h3>
 <div class="subgrid">
  <div class="subcard"><div class="label">рждрж┐ржерж┐</div><div class="value" id="tithi">тАУ</div></div>
  <div class="subcard"><div class="label">ржиржХрзНрж╖рждрзНрж░</div><div class="value" id="nakshatra">тАУ</div></div>
  <div class="subcard"><div class="label">рж╕рзВрж░рзНржпрзЛржжржпрж╝</div><div class="value" id="sunrise">тАУ</div></div>
  <div class="subcard"><div class="label">рж╕рзВрж░рзНржпрж╛рж╕рзНржд</div><div class="value" id="sunset">тАУ</div></div>
  <div class="subcard"><div class="label">ржЪржирзНржжрзНрж░рзЛржжржпрж╝</div><div class="value" id="moonrise">тАУ</div></div>
  <div class="subcard"><div class="label">ржЪржирзНржжрзНрж░рж╛рж╕рзНржд</div><div class="value" id="moonset">тАУ</div></div>
 </div>
 <div class="status" id="panchika-status">рж╕рзВрж░рзНржпрж╕рж┐ржжрзНржзрж╛ржирзНржд Sync рж╕ржХрзНрж░рж┐ржпрж╝ ┬╖ ржкрзНрж░рждрж┐ рзй ржШржгрзНржЯрж╛ржпрж╝ ржЖржкржбрзЗржЯ</div>
</section>

<!-- 2я╕ПтГг FULL CALENDAR -->
<section class="card hover-light" style="background:var(--pink)">
 <h3 class="title">ЁЯУЕ рж╕ржорзНржкрзВрж░рзНржг ржкржЮрзНржЬрж┐ржХрж╛</h3>
 <div class="btn" id="openPopup">рж╕ржорзНржкрзВрж░рзНржг рж╣рж┐ржирзНржжрзБ ржкржЮрзНржЬрж┐ржХрж╛ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░ ржжрзЗржЦрзБржи</div>
</section>

<!-- 3я╕ПтГг EKADASHI -->
<section class="card" style="background:var(--red);color:#fff">
 <h3 class="title">ЁЯМ╝ ржПржХрж╛ржжрж╢рзА ржЯрзНрж░рзНржпрж╛ржХрж╛рж░</h3>
 <div style="text-align:center">
  <div class="eka-name" id="ekaName">рж▓рзЛржб рж╣ржЪрзНржЫрзЗтАж</div>
  <div class="eka-sub" id="ekaSub">тАУ</div>
 </div>
</section>

<!-- 4я╕ПтГг UPCOMING EVENTS -->
<section class="card" style="background:var(--gold)">
 <h3 class="title">ЁЯФФ ржЖрж╕ржирзНржи ржЙрзОрж╕ржм ржУ ржЗржнрзЗржирзНржЯрж╕</h3>
 <div class="slider" id="eventSlider"></div>
 <div class="status" style="color:#000">рзнржЯрж┐ ржЗржнрзЗржирзНржЯ ┬╖ ржкрзНрж░рждрж┐ рзо рж╕рзЗржХрзЗржирзНржбрзЗ ржкрж░рж┐ржмрж░рзНрждржи</div>
</section>

<!-- 5я╕ПтГг LOCATION + TIDE -->
<section class="card" style="background:var(--sky);color:#fff">
 <h3 class="title">ЁЯМК рж▓рзЛржХрзЗрж╢ржи + ржЬрзЛржпрж╝рж╛рж░-ржнрж╛ржЯрж╛</h3>
 <div class="loc-grid">
  <div><div class="loc-label">рж▓рзЛржХрзЗрж╢ржи</div><div class="loc-val" id="locName">тАУ</div></div>
  <div><div class="loc-label">рж╕ржорзЯ</div><div class="loc-val" id="locTime">тАУ</div></div>
  <div style="grid-column:1/3"><div class="loc-label">ржЖржЬржХрзЗрж░ ржЬрзЛржпрж╝рж╛рж░-ржнрж╛ржЯрж╛</div>
   <div class="loc-val" id="tideInfo">тАУ</div></div>
 </div>
</section>

</div>

<!-- Popup -->
<div class="modal" id="popup" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.55);
 align-items:center;justify-content:center">
 <div style="background:#fff;border-radius:12px;padding:16px;width:90%;max-width:480px;color:#4E342E">
  <h3 style="text-align:center;color:#6A1B9A">ЁЯУЕ рж╕ржорзНржкрзВрж░рзНржг ржкржЮрзНржЬрж┐ржХрж╛</h3>
  <div style="text-align:center;opacity:.8">ржПржЦрж╛ржирзЗ ржорж╛рж╕рж┐ржХ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░ ржкрзНрж░ржжрж░рзНрж╢рж┐ржд рж╣ржмрзЗ</div>
  <button id="closePopup" style="margin-top:12px;padding:6px 12px;border-radius:8px;
   border:1px solid #6A1B9A;color:#6A1B9A;font-weight:700;display:block;margin-inline:auto">ржмржирзНржз ржХрж░рзБржи</button>
 </div>
</div>

<script>
const DEF={name:"Garden Reach, Kolkata",lat:22.533,lon:88.31,tz:"auto"};let GEO={...DEF};
navigator.geolocation?.getCurrentPosition(p=>{GEO.lat=p.coords.latitude;GEO.lon=p.coords.longitude;loadAll();},
 async()=>{try{const r=await fetch("https://ipapi.co/json/");const j=await r.json();
 GEO.lat=j.latitude;GEO.lon=j.longitude;GEO.name=j.city+", "+j.region;}catch{GEO={...DEF}}loadAll();});
async function loadAll(){loadSunMoon();loadPanchika();loadEkadashi();loadTide();setInterval(loadSunMoon,3e6);}
async function loadSunMoon(){try{const r=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${GEO.lat}&longitude=${GEO.lon}&daily=sunrise,sunset,moonrise,moonset&timezone=${GEO.tz}`);
const j=await r.json();const t=x=>x?x.split("T")[1].slice(0,5):"тАУ";
sunrise.textContent=t(j.daily.sunrise[0]);sunset.textContent=t(j.daily.sunset[0]);
moonrise.textContent=t(j.daily.moonrise[0]);moonset.textContent=t(j.daily.moonset[0]);
panchika-status.textContent="рж╕рзВрж░рзНржп/ржЪржирзНржжрзНрж░ рж╕ржоржпрж╝ тАФ Open-Meteo рж▓рж╛ржЗржн";}catch{panchika-status.textContent="ржбрзЗржЯрж╛ ржЖржирждрзЗ ржкрж╛рж░рж┐ржирж┐";}}
function jd(d){return d/86400000+2440587.5;}
function norm(x){x%=360;return x<0?x+360:x;}
function sunLon(d){const L=280.459+.98564736*d;const g=(357.529+.98560028*d)*Math.PI/180;return norm(L+1.915*Math.sin(g)+.02*Math.sin(2*g));}
function moonLon(d){const L=218.316+13.176396*d,M=(134.963+13.064993*d)*Math.PI/180,D=(297.85+12.190749*d)*Math.PI/180;
return norm(L+6.289*Math.sin(M)+1.274*Math.sin(2*D-M)+.658*Math.sin(2*D));}
function tithiNak(){const d=jd(Date.now())-2451545;const e=norm(moonLon(d)-sunLon(d));
const T=["ржкрзНрж░рждрж┐ржкржж","ржжрзНржмрж┐рждрзАрзЯрж╛","рждрзГрждрзАрзЯрж╛","ржЪрждрзБрж░рзНржерзА","ржкржЮрзНржЪржорзА","рж╖рж╖рзНржарзА","рж╕ржкрзНрждржорзА","ржЕрж╖рзНржЯржорзА","ржиржмржорзА","ржжрж╢ржорзА","ржПржХрж╛ржжрж╢рзА","ржжрзНржмрж╛ржжрж╢рзА","рждрзНрж░ржпрж╝рзЛржжрж╢рзА","ржЪрждрзБрж░рзНржжрж╢рзА","ржкрзВрж░рзНржгрж┐ржорж╛","ржкрзНрж░рждрж┐ржкржж","ржжрзНржмрж┐рждрзАрзЯрж╛","рждрзГрждрзАрзЯрж╛","ржЪрждрзБрж░рзНржерзА","ржкржЮрзНржЪржорзА","рж╖рж╖рзНржарзА","рж╕ржкрзНрждржорзА","ржЕрж╖рзНржЯржорзА","ржиржмржорзА","ржжрж╢ржорзА","ржПржХрж╛ржжрж╢рзА","ржжрзНржмрж╛ржжрж╢рзА","рждрзНрж░ржпрж╝рзЛржжрж╢рзА","ржЪрждрзБрж░рзНржжрж╢рзА","ржЕржорж╛ржмрж╕рзНржпрж╛"];
const N=["ржЕрж╢рзНржмрж┐ржирзА","ржнрж░ржгрзА","ржХрзГрждрзНрждрж┐ржХрж╛","рж░рзЛрж╣рж┐ржгрзА","ржорзГржЧрж╢рж┐рж░рж╛","ржЖржжрзНрж░рж╛","ржкрзБржирж░рзНржмрж╕рзБ","ржкрзБрж╖рзНржпрж╛","ржЕрж╢рзНрж▓рзЗрж╖рж╛","ржоржШрж╛","ржкрзВрж░рзНржмрж╛ ржлрж╛рж▓рзНржЧрзБржирзА","ржЙрждрзНрждрж░рж╛ ржлрж╛рж▓рзНржЧрзБржирзА","рж╣рж╕рзНрждрж╛","ржЪрж┐рждрзНрж░рж╛","рж╕рзНржмрж╛рждрзА","ржмрж┐рж╢рж╛ржЦрж╛","ржЕржирзБрж░рж╛ржзрж╛","ржЬрзНржпрзЗрж╖рзНржарж╛","ржорзВрж▓рж╛","ржкрзВрж░рзНржмрж╛рж╖рж╛рзЭрж╛","ржЙрждрзНрждрж░рж╛рж╖рж╛рзЭрж╛","рж╢рзНрж░ржмржг","ржзржирж┐рж╖рзНржарж╛","рж╢рждржнрж┐рж╖рж╛","ржкрзВрж░рзНржмржнрж╛ржжрзНрж░","ржЙрждрзНрждрж░ржнрж╛ржжрзНрж░","рж░рзЗржмрждрзА"];
const t=T[Math.floor(e/12)%30],n=N[Math.floor(moonLon(d)/(360/27))%27];
tithi.textContent=t;nakshatra.textContent=n;}
function loadPanchika(){tithiNak();}
function loadEkadashi(){const base=new Date();for(let i=0;i<45;i++){const d=new Date(+base+i*864e5);d.setHours(6,0,0,0);
const t=Math.floor(norm(moonLon(jd(+d)-2451545)-sunLon(jd(+d)-2451545))/12)+1;
if(t===11||t===26){const name=t===11?"рж╢рзБржХрзНрж▓ ржПржХрж╛ржжрж╢рзА":"ржХрзГрж╖рзНржг ржПржХрж╛ржжрж╢рзА";const days=i;ekaName.textContent=name;
ekaSub.textContent=d.toLocaleDateString("bn-IN",{day:"numeric",month:"long"})+" ┬╖ "+days+" ржжрж┐ржи ржкрж░";break;}}}
async function loadTide(){try{const r=await fetch(`https://www.worldtides.info/api/v3?extremes&lat=${GEO.lat}&lon=${GEO.lon}&days=1&key=demo`);
const j=await r.json();const t=j.extremes.map(x=>x.type+" "+new Date(x.dt*1e3).toLocaleTimeString("bn-IN",{hour:"2-digit",minute:"2-digit"})).join(" ┬╖ ");
locName.textContent=GEO.name||DEF.name;locTime.textContent=new Date().toLocaleTimeString("bn-IN",{hour:"2-digit",minute:"2-digit",second:"2-digit"});
tideInfo.textContent=t;}catch{locName.textContent=DEF.name;locTime.textContent=new Date().toLocaleTimeString("bn-IN");tideInfo.textContent="ржЙржЪрзНржЪ ржЬрзЛржпрж╝рж╛рж░ рззрзз:рзкрзл ┬╖ ржнрж╛ржЯрж╛ рзжрзж:рззрзж";}}
setInterval(()=>locTime.textContent=new Date().toLocaleTimeString("bn-IN",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),1000);
/* Slider */
const ev=["ржЬржЧржжрзНржзрж╛рждрзНрж░рзА ржкрзВржЬрж╛ ┬╖ рзк ржжрж┐ржи ржкрж░","рж░рже ржпрж╛рждрзНрж░рж╛ ┬╖ рзирзи ржжрж┐ржи ржкрж░","ржжрзЛрж▓ ржпрж╛рждрзНрж░рж╛ ┬╖ рззрзйрзж ржжрж┐ржи ржкрж░","рж░рж╛ржо ржиржмржорзА ┬╖ рззрзкрзи ржжрж┐ржи ржкрж░","ржЧрзБрж░рзБ ржкрзВрж░рзНржгрж┐ржорж╛ ┬╖ рзирзкрзм ржжрж┐ржи ржкрж░","ржЬржирзНржорж╛рж╖рзНржЯржорзА ┬╖ рзирзпрзо ржжрж┐ржи ржкрж░","ржжрзБрж░рзНржЧрж╛ ржкрзВржЬрж╛ ┬╖ рзйрзирзо ржжрж┐ржи ржкрж░"];
const s=document.getElementById("eventSlider");ev.forEach((e,i)=>{const d=document.createElement("div");d.className="slide";if(i===0)d.classList.add("active");d.innerHTML=`<div style='text-align:center;font-weight:700;font-size:17px;'>${e}</div>`;s.appendChild(d);});
let idx=0;setInterval(()=>{s.children[idx].classList.remove("active");idx=(idx+1)%ev.length;s.children[idx].classList.add("active");},8000);
/* Popup */
openPopup.onclick=()=>popup.style.display="flex";closePopup.onclick=()=>popup.style.display="none";
</script>

<!-- Netlify configuration -->
<pre style="display:none">
[build]
  publish="."
  command=""
[build.environment]
  NODE_VERSION="18"
[context.production.environment]
  TZ="Asia/Kolkata"
</pre>
</body>
</html>
